var y=Object.create;var a=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty;var s=e=>a(e,"__esModule",{value:!0});var x=(e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})},c=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of v(t))!V.call(e,o)&&(n||o!=="default")&&a(e,o,{get:()=>t[o],enumerable:!(r=P(t,o))||r.enumerable});return e},u=(e,t)=>c(s(a(e!=null?y(A(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),N=(e=>(t,n)=>e&&e.get(t)||(n=c(s({}),t,1),e&&e.set(t,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var k={};x(k,{default:()=>h});var i=require("@raycast/api");var m=require("@raycast/api"),l=u(require("fs")),p=u(require("path"));function f(e,t){let n=[];return e=e.filter(r=>{let o=r.path+"/.obsidian/community-plugins.json";if(!l.default.existsSync(o))n.push(r);else{if(JSON.parse(l.default.readFileSync(o,"utf-8")).includes(t))return r;n.push(r)}}),[e,n]}function S(e){let t=e.split(p.default.sep).filter(n=>{if(n!="")return n}).pop();return t||"Default Vault Name (check your path preferences)"}function d(){return(0,m.getPreferenceValues)().vaultPath.split(",").map(n=>({name:S(n.trim()),key:n.trim(),path:n.trim()})).filter(n=>!!n)}var g=e=>"obsidian://advanced-uri?vault="+encodeURIComponent(e)+"&daily=true";function h(){let e=d(),[t,n]=f(e,"obsidian-advanced-uri");return n.length>0&&(0,i.showToast)({title:"Vaults without Daily Note plugin:",message:n.map(r=>r.name).join(", "),style:i.Toast.Style.Failure}),t.length==0?_jsx(i.Detail,{navigationTitle:"Advanced URI plugin not installed",markdown:`# Advanced URI plugin not installed.
This command requires the [Advanced URI plugin](https://obsidian.md/plugins?id=obsidian-advanced-uri) for Obsidian.  
  
 Install it through the community plugins list.`}):(t.length==1&&((0,i.open)(g(t[0].name)),(0,i.popToRoot)(),(0,i.closeMainWindow)()),_jsx(i.List,{isLoading:t===void 0},t?.map(r=>_jsx(i.List.Item,{title:r.name,key:r.key,actions:_jsx(i.ActionPanel,null,_jsx(i.Action.Open,{title:"Daily Note",target:g(r.name)}))}))))}module.exports=N(k);0&&(module.exports={});
