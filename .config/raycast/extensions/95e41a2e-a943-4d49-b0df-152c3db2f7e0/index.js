var A=Object.create;var p=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var U=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var y=e=>p(e,"__esModule",{value:!0});var W=(e,i)=>{y(e);for(var o in i)p(e,o,{get:i[o],enumerable:!0})},R=(e,i,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let n of U(i))!C.call(e,n)&&n!=="default"&&p(e,n,{get:()=>i[n],enumerable:!(o=L(i,n))||o.enumerable});return e},c=e=>R(y(p(e!=null?A(x(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);W(exports,{default:()=>P});var t=c(require("@raycast/api")),s=c(require("fs"));var l=c(require("node:path")),h=c(require("node:os")),k=h.default.homedir();function u(e){let i=l.default.normalize(e)+l.default.sep;return(i.startsWith(k)?i.replace(k+l.default.sep,`~${l.default.sep}`):i).slice(0,-1)}var g=c(require("os")),d=c(require("path")),a=c(require("url"));function E(e){return e.fileUri!==void 0}function S(e){return e.folderUri!==void 0}function F(e){return e.workspace!==void 0&&e.workspace.configPath!==void 0}var f=`${(0,g.homedir)()}/Library/Application Support/Code/storage.json`;function N(){return JSON.parse((0,s.readFileSync)(f).toString()).openedPathsList.entries}function P(){let e=new Array,i=new Array,o=new Array;return N().forEach(r=>{S(r)&&(0,s.existsSync)(new a.URL(r.folderUri))?e.push(_jsx(m,{key:r.folderUri,uri:r.folderUri})):E(r)&&(0,s.existsSync)(new a.URL(r.fileUri))?i.push(_jsx(m,{key:r.fileUri,uri:r.fileUri})):F(r)&&(0,s.existsSync)(new a.URL(r.workspace.configPath))&&o.push(_jsx(m,{key:r.workspace.configPath,uri:r.workspace.configPath}))}),_jsx(t.List,{searchBarPlaceholder:"Search recent projects..."},_jsx(t.List.Section,{title:"Workspaces"},o),_jsx(t.List.Section,{title:"Folders"},e),_jsx(t.List.Section,{title:"Files"},i))}function m(e){let i=decodeURI((0,d.basename)(e.uri)),o=(0,a.fileURLToPath)(e.uri),n=u(o),r=(0,d.dirname)(n),w=o.split("/");return _jsx(t.List.Item,{title:i,subtitle:r,icon:{fileIcon:o},keywords:w,actions:_jsx(t.ActionPanel,null,_jsx(t.ActionPanel.Section,null,_jsx(t.OpenAction,{title:"Open in Code",icon:"action-icon.png",target:e.uri,application:"Visual Studio Code"}),_jsx(t.ShowInFinderAction,{path:o}),_jsx(t.OpenWithAction,{path:o,shortcut:{modifiers:["cmd"],key:"o"}})),_jsx(t.ActionPanel.Section,null,_jsx(t.CopyToClipboardAction,{title:"Copy Name",content:i,shortcut:{modifiers:["cmd"],key:"."}}),_jsx(t.CopyToClipboardAction,{title:"Copy Path",content:n,shortcut:{modifiers:["cmd","shift"],key:"."}})),_jsx(t.ActionPanel.Section,null,_jsx(t.TrashAction,{paths:[o],shortcut:{modifiers:["ctrl"],key:"x"}})),_jsx(O,null))})}function O(){return t.environment.isDevelopment?_jsx(t.ActionPanel.Section,{title:"Development"},_jsx(t.OpenAction,{title:"Open Storage File in Code",icon:"icon.png",target:f,application:"Visual Studio Code"}),_jsx(t.ShowInFinderAction,{title:"Show Storage File in Finder",path:f}),_jsx(t.CopyToClipboardAction,{title:"Copy Storage File Path",content:f})):null}0&&(module.exports={});
